{"ast":null,"code":"export var detachArrayBuffer = function detachArrayBuffer(arrayBuffer) {\n  var _MessageChannel = new MessageChannel(),\n      port1 = _MessageChannel.port1,\n      port2 = _MessageChannel.port2;\n\n  return new Promise(function (resolve) {\n    var closeAndResolve = function closeAndResolve() {\n      port2.onmessage = null;\n      port1.close();\n      port2.close();\n      resolve();\n    };\n\n    port2.onmessage = function () {\n      return closeAndResolve();\n    };\n\n    try {\n      port1.postMessage(arrayBuffer, [arrayBuffer]);\n    } finally {\n      closeAndResolve();\n    }\n  });\n};","map":null,"metadata":{},"sourceType":"module"}